<% layout('layouts/boilerplate') %>

<style>
  /* Container with particles background */
  #home-particles-container {
    position: relative;
    overflow: hidden;
    min-height: 420px;
    background-color: #ffeae8; /* very light coral/pink for better contrast */
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 3rem 1rem;
  }

  /* Particles canvas behind content */
  #particles-js {
    position: absolute !important;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 0;
  }

  /* Content above particles */
  #home-content {
    position: relative;
    z-index: 1;
    max-width: 600px;
    width: 100%;
  }

  /* Welcome card styling */
  #home-content .card {
    border-radius: 1rem;
    padding: 2.5rem 2rem;
    box-shadow: 0 0 15px rgb(255 90 95 / 0.15);
  }

  /* Heading color */
  #home-content h1 {
    color: #FF5A5F; /* Airbnb coral */
  }

  /* Buttons container */
  #home-content .btn {
    padding-left: 2.5rem;
    padding-right: 2.5rem;
    border-radius: 50px;
    box-shadow: 0 0.125rem 0.25rem rgb(255 90 95 / 0.3);
    font-weight: 600;
    transition: background-color 0.3s ease;
  }

  #home-content .btn-primary {
    background-color: #FF5A5F;
    border-color: #FF5A5F;
    color: white;
  }
  #home-content .btn-primary:hover {
    background-color: #e14f54;
    border-color: #e14f54;
  }

  #home-content .btn-outline-primary {
    color: #FF5A5F;
    border-width: 2px;
  }
  #home-content .btn-outline-primary:hover {
    background-color: #FF5A5F;
    color: white;
  }

  #home-content .btn-success {
    background-color: #FF5A5F;
    border-color: #FF5A5F;
    color: white;
  }
  #home-content .btn-success:hover {
    background-color: #e14f54;
    border-color: #e14f54;
  }
</style>

<div id="home-particles-container">
  <!-- particles background -->
  <div id="particles-js"></div>

  <!-- Actual content above particles -->
  <div id="home-content">
    <div class="card shadow-sm border-0 rounded-4 text-center p-4">
      <h1 class="fw-bold mb-3">Welcome to Wanderlust</h1>
      <p class="fs-5 text-muted mb-4">
        Find amazing places to stay around the world.
      </p>

      <% if (currentUser) { %>
        <div class="alert alert-light border rounded-pill d-inline-block px-4 py-2 mb-4" style="color: #FF5A5F; border-color: #FF5A5F;">
          <i class="fa-solid fa-user"></i> Logged in as <strong><%= currentUser.username %></strong>
        </div>
      <% } %>

      <div class="d-flex justify-content-center gap-3">
        <a href="/listings" class="btn btn-primary shadow-sm">
          üåç Explore Listings
        </a>
        <% if (!currentUser) { %>
          <a href="/register" class="btn btn-outline-primary shadow-sm">
            ‚úçÔ∏è Join Now
          </a>
        <% } else { %>
          <a href="/listings/new" class="btn btn-success shadow-sm">
             New Listing
          </a>
        <% } %>
      </div>
    </div>
  </div>
</div>

<!-- Load particles.js -->
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

<!-- Initialize particles.js -->
<script>
  particlesJS("particles-js", {
    "particles": {
      "number": { "value": 60, "density": { "enable": true, "value_area": 800 } },
      "color": { "value": "#FF5A5F" },
      "shape": { "type": "circle" },
      "opacity": { "value": 0.5, "random": false },
      "size": { "value": 5, "random": true },
      "line_linked": {
        "enable": true,
        "distance": 150,
        "color": "#FF5A5F",
        "opacity": 0.4,
        "width": 1.5
      },
      "move": {
        "enable": true,
        "speed": 1.5,
        "direction": "none",
        "random": false,
        "straight": false,
        "bounce": false
      }
    },
    "interactivity": {
      "detect_on": "canvas",
      "events": {
        "onhover": { "enable": true, "mode": "grab" },
        "onclick": { "enable": false },
        "resize": true
      },
      "modes": { "grab": { "distance": 140, "line_linked": { "opacity": 0.5 } } }
    },
    "retina_detect": true
  });
</script>


